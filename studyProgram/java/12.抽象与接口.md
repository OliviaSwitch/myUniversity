# 抽象与接口

## 抽象

> 我们用abstract关键字来定义抽象类。抽象类的作用仅仅是表达接口，而不是具体的实现细节。抽象类中可以存在抽象方法。抽象方法也是使用 `abstract` 关键字来修饰。抽象的方法是不完全的，它只是一个方法签名而完全没有方法体。抽象类表达的是一种概念，一种共同属性的抽象集合，我们并不希望任何 抽象类的对象会被创建出来。
>
> 如果一个类有了一个抽象的方法，这个类就必须声明为抽象类。如果父类是抽象类，那么子类必须覆盖所有在父类中的抽象方法，否则子类也成为一个抽象类。
>
> 一个抽象类可以没有任何抽象方法，所有的方法都有方法体，但是整个类是抽象的。设计这样的抽象类主要是为了防止制造它的对象出来。

```java
<abstract>class<class_name> {
    <abstract><type><method_name>(parameter-iist);// no {}
}
```

1. 抽象方法没有方法体
2. 抽象方法必须存在于抽象类中
3. 子类重写父类时，必须重写父类所有的抽象方法

### 抽象类

- 抽象类：表达概念而无法构造出实体的类
    - 抽象类和抽象方法都要使用 abstract 关键字声明。
    - **如果一个方法被声明为抽象的，那么这个类也必须声明为抽象的。而一个抽象类中，可以有 0~n 个抽象方法，以及 0~n 个具体方法。**
    - 抽象类不能实例化，也就是不能使用 `new` 关键字创建对象。但是可以定义变量。
        - 任何继承了抽象类的非抽象类的对象可以赋给这个变量

### 抽象函数

- 抽象函数：表达概念而无法实现具体代码的函数
    - 继承自抽象类的子类必须覆盖父类中的抽象函数
    - 否则自己成为抽象类

## 数据与表现分离

- 程序的业务逻辑与表现无关
    - 表现可以是图案的也可以是文本的
    - 表现可以是本地的也可以是远程的

### 细胞自动机

- 死亡：如果活着的邻居数量 `<2` 或 `>3` ，则死亡
- 新生：如果正好有 3 个邻居活着，则新生
- 其他则保存原状

### View 和 Field 的关系

- 表现与数据的关系
- View 只管根据 Field 画出图形
- Field 只管数据存放
- 一旦数据更新，通知 View 重新画出整个画面
    - 无需精心设计哪个局部需要更新
    - 简化程序逻辑
    - 但是是在计算机运算速度提高的基础上实现的

### 负责驱动的设计

- 将程序要实现的功能分配到合适的类／对象中去是设计中非常重要的一环

### 网格化

- 图形界面本身有更高的解析度
- 但是画面网格化后，数据就更容易处理了

## 接口

### 狐狸与兔子

- 狐狸和兔子都有年龄
- 当年龄到了一定上限会自然死亡
- 狐狸可以随机在周边吃一个兔子
- 狐狸和兔子可以随机决定生一个小的， 放在旁边的空格子里
- 若不吃也不生，狐狸和兔子可以随机决定向旁边空格子移动一步

#### 尴尬的 Cell 类

- 在 Cells 程序中他表达了细胞
- 但同时它也表达了放在网格中的格子
- Fox 和 Rabbit 是否应该从 Cell 继承 -> 不应该

### 接口

- 接口是纯抽象类
    - 所以的成员函数都是抽象函数
    - 所有成员变量都是 `public static final`
- 接口规定了长什么样，但是不管里面有什么

用接口实现 Fox 既继承了Animal 类又实现了 Cell 的功能

```java
public class Fox extends Animal implement Cell{
    public Fox(){
		super(20, 4)
    }
}
```

- 继承只能继承一个类，但 implements 可以实现多个接口，用逗号分开就行了
    比如: 
    `class A extends B implements C,D,E`

### 接口设计模式

用 `interface` 取代 `class`

- `interface` 是一种特殊的 `class`

```java
[可见度] interface 接口名称 [ extends  其他的接口名] {
        // 声明变量
        // 抽象方法
}
```

- 接口是隐式抽象的，当声明一个接口的时候，不必使用 `abstract` 关键字。
- 接口中每一个方法也是隐式抽象的，声明时同样不需要 `abstract` 关键字。
- 接口中的方法都是公有的。

#### 实现接口

- 类用 `extends` 接口用 `implements`
- 类可以实现很多接口
- 接口可以继承接口，但不能继承类
- 接口不能实现接口

#### 面向接口的编程方式

两个东西间的连接

- 设计程序时先定义接口，再实现类
- 任何需要在函数间传入传出的一定是接口而非具体的类
- 使得很多人同时写一个程序
- 代码量膨胀起来很快